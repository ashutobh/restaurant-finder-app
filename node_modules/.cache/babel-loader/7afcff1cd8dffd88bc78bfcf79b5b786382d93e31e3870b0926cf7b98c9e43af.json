{"ast":null,"code":"var _jsxFileName = \"/Users/abhardwaj/Development/React/restaurant-finder-app/src/components/ShowAllUsers.js\",\n  _s = $RefreshSig$();\nimport '../App.css';\nimport React, { useState, useEffect } from \"react\";\nimport Table from 'react-bootstrap/Table';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ShowAllUsers = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    fetch(\"http://localhost:8080/restaurant/api/v1/showAllUsers\").then(response => response.json()).then(json => setData(json)).finally(() => {\n      setLoading(false);\n    });\n  }, []);\n  const HandleSubmit = event => {\n    //event.preventDefault();\n\n    // Update form errors\n    setFormErrors(validationErrors);\n\n    // Check if there are any validation errors\n    if (Object.values(validationErrors).every(error => error === \"\")) {\n      // Perform custom business logic or submit the form\n\n      try {\n        axios.post(\"http://localhost:8080/restaurant/api/v1/addUser\", {\n          userFirstName: formData.firstName,\n          userLastName: formData.lastName,\n          userEmailAddress: formData.email\n        }).then(res => {\n          console.log(res);\n          console.log(res.data);\n          if (res != null && res.data != null && res.data.statusCode == 201) {\n            localStorage.setItem(\"restaurantFinderUserId\", JSON.stringify(res.data.emailAddress));\n            alert(\"User Added Successfully\");\n            window.location = \"/addUser\";\n          } else {\n            alert(res.data.message);\n            window.location = \"/addUser\";\n          }\n        });\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        window.location = \"/addUser\"; //This line of code will redirect you once the submission is succeed\n      }\n    } else {\n      console.log(\"Form validation failed. Please check the errors.\");\n    }\n  };\n  return;\n  /*#__PURE__*/_jsxDEV(\"dl\", {\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      size: \"sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Email Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: data && data.users && data.users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.emailAddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.firstName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.lastName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 18\n          }, this)]\n        }, user.emailAddress, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 18\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: HandleSubmit,\n        children: \"Add User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_s(ShowAllUsers, \"e2WPURhZO+vgWkProC5DhPL24KA=\");\n_c = ShowAllUsers;\nexport default ShowAllUsers;\nvar _c;\n$RefreshReg$(_c, \"ShowAllUsers\");","map":{"version":3,"names":["React","useState","useEffect","Table","jsxDEV","_jsxDEV","ShowAllUsers","_s","data","setData","loading","setLoading","fetch","then","response","json","finally","HandleSubmit","event","setFormErrors","validationErrors","Object","values","every","error","axios","post","userFirstName","formData","firstName","userLastName","lastName","userEmailAddress","email","res","console","log","statusCode","localStorage","setItem","JSON","stringify","emailAddress","alert","window","location","message","children","striped","bordered","hover","size","fileName","_jsxFileName","lineNumber","columnNumber","users","map","user","type","onClick","_c","$RefreshReg$"],"sources":["/Users/abhardwaj/Development/React/restaurant-finder-app/src/components/ShowAllUsers.js"],"sourcesContent":["import '../App.css'\nimport React, { useState, useEffect } from \"react\"\nimport Table from 'react-bootstrap/Table';\n\nconst ShowAllUsers = () => {\n\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    fetch(\"http://localhost:8080/restaurant/api/v1/showAllUsers\")\n      .then((response) => response.json())\n      .then((json) => setData(json))\n      .finally(() => {\n        setLoading(false);\n      });\n  }, []);\n\n  const HandleSubmit = (event) => {\n    //event.preventDefault();\n\n   \n    // Update form errors\n    setFormErrors(validationErrors);\n\n    // Check if there are any validation errors\n    if (Object.values(validationErrors).every((error) => error === \"\")) {\n      // Perform custom business logic or submit the form\n\n      try {\n        axios\n          .post(\"http://localhost:8080/restaurant/api/v1/addUser\", {\n            userFirstName: formData.firstName,\n            userLastName: formData.lastName,\n            userEmailAddress: formData.email,\n          })\n          .then((res) => {\n            console.log(res);\n            console.log(res.data);\n            if(res != null && res.data != null && res.data.statusCode == 201) {\n              localStorage.setItem(\"restaurantFinderUserId\", JSON.stringify(res.data.emailAddress));\n               alert(\"User Added Successfully\");\n               window.location = \"/addUser\"; \n            } else {\n               alert(res.data.message);  \n               window.location = \"/addUser\";       \n            }           \n          });\n          \n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        window.location = \"/addUser\"; //This line of code will redirect you once the submission is succeed\n      }\n    } else {\n      console.log(\"Form validation failed. Please check the errors.\");\n    }\n  };\n\n    return \n    (\n        <dl>     \n    <Table striped bordered hover size=\"sm\">\n        <thead>\n            <tr>\n                <th>Email Address</th>\n                 <th>First Name</th>\n                 <th>Last Name</th>\n            </tr>\n        </thead>\n\n        <tbody>\n            {data && data.users && data.users.map(user =>\n                 <tr key={user.emailAddress}>\n                 <td>{user.emailAddress}</td>\n                 <td>{user.firstName}</td>\n                 <td>{user.lastName}</td>\n               </tr>\n            )}\n        </tbody>\n    </Table>\n    <form>\n      <button type=\"submit\" onClick={HandleSubmit}>\n        Add User\n      </button>\n    </form>\n    </dl>\n    );\n    \n}\nexport default ShowAllUsers;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}